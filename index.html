<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dorian Lapeyre | Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>

    <nav>
        <div class="burger-menu" id="burger-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <div class="nav-links" id="nav-links">
            <a href="#about">Acad√©mie</a>
            <a href="#pro">Professionnel</a>
            <a href="#asso">Associatif</a>
            <a href="#timeline-section">Mon Parcours</a>
            <a href="javascript:void(0)" class="contact-trigger">Contact</a>
        </div>
    </nav>

    <header class="main-header">
        <div class="animated-waves"></div> 
        <div class="header-name">Dorian Lapeyre</div>
        <h1>√âtudiant en <span class="highlight">Master Science de la mer</span></h1>
        <p>Au sein de l'OSU Pyth√©as √† Aix-Marseille Universit√© dans le parcours Oc√©an Physique Biog√©ochimie</p>
    </header>

    <section id="map-section">
        <h2 class="center-text">O√π m'avez-vous trouv√© ?</h2>
        <p class="map-intro" style="text-align: center; color: #a0a0a0; margin-bottom: 20px;">
            Explorez les lieux de mes exp√©riences acad√©miques, professionnelles et associatives.
        </p>
        <div id="experience-map"></div>
    </section>

    <section id="timeline-section">
        <h2 class="center-text">Mon Parcours</h2>
        <div class="timeline">
            <div class="timeline-line"></div>

            <div class="timeline-item left">
                <div class="timeline-content">
                    <span class="date">2019 - 2021</span>
                    <h3>CPGE PCSI/PC</h3>
                    <p>Classes pr√©paratoires - Lyc√©e Louis de Foix. Formation intensive en math√©matiques et physique.</p>
                </div>
            </div>

            <div class="timeline-item right">
                <div class="timeline-content">
                    <span class="date">2021 - 2024</span>
                    <h3>Licence Physique-Chimie</h3>
                    <p>Dipl√¥me obtenu √† l'UPPA. Sp√©cialisation en thermodynamique et m√©canique des fluides.</p>
                </div>
            </div>

            <div class="timeline-item left">
                <div class="timeline-content">
                    <span class="date">Depuis 2024</span>
                    <h3>Master Science de la Mer</h3>
                    <p>Parcours Oc√©an Physique Biog√©ochimie (OPB) √† l'OSU Pyth√©as. √âtude dynamique des oc√©ans.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p>¬© 2026 ‚Äî Dorian Lapeyre</p>
    </footer>

    <div id="contact-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Me contacter</h2>
            <div class="contact-links">
                <a href="mailto:dorian.lapeyre69@gmail.com" class="contact-item">üìß Email</a>
                <a href="https://www.linkedin.com/in/dorian-lapeyre-04131b176" target="_blank" class="contact-item">üîó LinkedIn</a>
                <a href="https://github.com/dorianlepeyre" target="_blank" class="contact-item">üíª GitHub</a>
            </div>
        </div>
    </div>

    <script>
        // Gestion Menu Burger
        const burgerMenu = document.getElementById('burger-menu');
        const navLinks = document.getElementById('nav-links');
        burgerMenu.onclick = () => {
            navLinks.classList.toggle('active');
            burgerMenu.classList.toggle('active');
        };

        // Gestion Modale
        const modal = document.getElementById("contact-modal");
        const contactTriggers = document.querySelectorAll(".contact-trigger");
        const spanClose = document.querySelector(".close-button");

        contactTriggers.forEach(trigger => {
            trigger.onclick = () => {
                modal.style.display = "block";
                navLinks.classList.remove('active');
            }
        });
        spanClose.onclick = () => modal.style.display = "none";
        window.onclick = (event) => { if (event.target == modal) modal.style.display = "none"; }

        // Carte Leaflet
        const map = L.map('experience-map', { scrollWheelZoom: false, zoomControl: false }).setView([44.5, 1.0], 6); 
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png').addTo(map);
        
        const neonIcon = L.divIcon({
            className: 'custom-div-icon',
            html: "<div class='neon-marker'></div>",
            iconSize: [12, 12], iconAnchor: [6, 6]
        });

        // Animation Timeline au scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.timeline-item').forEach(item => observer.observe(item));

        // Correction bug d'affichage Leaflet
        window.onload = () => { setTimeout(() => { map.invalidateSize(); }, 400); };
    </script>
</body>
</html>
